import{r as a,j as e}from"./vendor-RJ-jBvc8.js";import{s as C}from"./index-BtMhk_v_.js";import{B as k}from"./button-Chb2YNXO.js";import{I as l}from"./input-ByEQPoxk.js";import{u as E}from"./i18n-DvSS2Fqm.js";import{d as p,e as j}from"./icons-C8fbylrd.js";import{u as F,L}from"./router-DrPDuPhB.js";import"./supabase-BfAM1BYj.js";function T(){const{t:s}=E(),w=F(),[c,o]=a.useState(!1),[d,u]=a.useState(null),[h,g]=a.useState(""),[x,N]=a.useState(""),[n,v]=a.useState(""),[f,b]=a.useState(""),[i,y]=a.useState(!1),[m,S]=a.useState(!1),P=async t=>{if(t.preventDefault(),o(!0),n!==f){u("Passwords do not match"),o(!1);return}try{const{error:r}=await C.auth.signUp({email:x,password:n,options:{data:{full_name:h}}});if(r)throw r;w("/register-confirmation")}catch(r){u(r.message)}finally{o(!1)}};return e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold",children:s("auth.register.title")}),e.jsx("p",{className:"mt-2 text-neutral-400",children:s("auth.register.subtitle")})]}),e.jsxs("form",{onSubmit:P,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium mb-1",children:s("common.name")}),e.jsx(l,{id:"fullName",type:"text",value:h,onChange:t=>g(t.target.value),required:!0,placeholder:"Ex: João Silva"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:s("common.email")}),e.jsx(l,{id:"email",type:"email",value:x,onChange:t=>N(t.target.value),required:!0,placeholder:"you@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:s("common.password")}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"password",type:i?"text":"password",value:n,onChange:t=>v(t.target.value),required:!0,minLength:6,placeholder:"••••••••",className:"pr-12"}),e.jsx("button",{type:"button",onClick:()=>y(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-500 hover:text-neutral-400 focus:outline-none",children:i?e.jsx(p,{className:"h-5 w-5"}):e.jsx(j,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-1",children:s("auth.register.confirm_password","Confirm Password")}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"confirmPassword",type:m?"text":"password",value:f,onChange:t=>b(t.target.value),required:!0,minLength:6,placeholder:"••••••••",className:"pr-12"}),e.jsx("button",{type:"button",onClick:()=>S(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-500 hover:text-neutral-400 focus:outline-none",children:m?e.jsx(p,{className:"h-5 w-5"}):e.jsx(j,{className:"h-5 w-5"})})]})]})]}),d&&e.jsx("div",{className:"p-3 text-sm text-red-500 bg-red-500/10 rounded-md",children:d}),e.jsx(k,{type:"submit",className:"w-full",disabled:c,children:s(c?"common.loading":"auth.register.submit")})]}),e.jsxs("p",{className:"text-center text-sm text-neutral-400",children:[s("auth.register.has_account")," ",e.jsx(L,{to:"/login",className:"text-emerald-500 hover:text-emerald-400 font-medium",children:s("auth.login.title")})]})]})})}export{T as default};
